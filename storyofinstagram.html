<!DOCTYPE html>
<html>
<head>
    <meta charset='utf-8' />
    <title></title>
    <meta name='viewport' content='initial-scale=1,maximum-scale=1,user-scalable=no' />
    <script src='https://api.tiles.mapbox.com/mapbox-gl-js/v0.37.0/mapbox-gl.js'></script>
    <link href='https://api.tiles.mapbox.com/mapbox-gl-js/v0.37.0/mapbox-gl.css' rel='stylesheet' />
    <style>
        /*body {background-color: black;}*/
        body { margin:0; padding:0; }
        #london { position:absolute; top:0; bottom:0; width:100%; }
        #beijing { position:absolute; top:0; bottom:0; width:100%; }

    </style>
</head>

<body>
<style>

#london {
    position: fixed;
    width:37%;
}

#features {
    width: 26%;
    margin-left: 37%;
    font-family: sans-serif;
    overflow-y: scroll;
    background-color: #fff;
}

#beijing {
    position: fixed;
    margin-left:63%;
    width:37%;
}

#menu {
        position: fixed;
        background: #fff;
        padding: 10px;
        opacity: .8;
        margin-left: 38%;
        /*font-family: 'Open Sans', sans-serif;*/
        font-family: "Lucida Bright", Georgia, serif;
        /*font-family: Garamond, Baskerville, "Baskerville Old Face", "Hoefler Text", "Times New Roman", serif;*/
        /*font-family: "Arial Black", "Arial Bold", Gadget, sans-serif;*/
    }

section {
    padding:  25px 25px;
    line-height: 25px;
    border-bottom: 1px solid #ddd;
    opacity: 0.25;
    font-size: 13px;
}
section.active {
    opacity: 1;
}
section:last-child {
    border-bottom: none;
    margin-bottom: 200px;
}
</style>
<div id="london"></div>
<div id="beijing"></div>
<!-- <div id="london" style="top: 0px; left: 0px; width:470px; height:800px; float: left"></div> -->
<!-- <div id="beijing" style="top: 0px; right: 0px; width:470px; height:800px"></div> -->
<div id='menu'>
    <input id='streets' type='radio' name='rtoggle' value='streets' checked='checked'>
    <label for='streets'>Streets</label>
    <input id='light' type='radio' name='rtoggle' value='light'>
    <label for='light'>Light</label>
    <input id='dark' type='radio' name='rtoggle' value='dark'>
    <label for='dark'>Dark</label>
    <input id='satellite' type='radio' name='rtoggle' value='satellite'>
    <label for='satellite'>Satellite</label>
</div>

<div id='features'>
    <section id='Top one' class='active'>
        <h2 style="color:#2874A6 ;  text-align:left;"><b>&#9754; Hyde Park</b></h2>
        <p style="text-align:left;">Hyde Park is one of London's finest landscapes and covers 350 acres. Every year millions of Londoners and tourists visit Hyde Park, one of the capital's eight Royal Parks. The park also offers various recreational activities including open water swimming, boating, cycling, tennis and horse riding. Moreover, it is home to a number of famous landmarks including the Serpentine Lake, Speakers' Corner and the Diana, Princess of Wales Memorial Fountain.</p>
        <small id="citation">
            Retrieved from <a href='https://www.royalparks.org.uk/parks/hyde-park/about-hyde-park'>The Royal Parks</a>
        </small>
        <h2 style="color:#922B21;  text-align:right;"><b>Tian'an Men &#9755;</b></h2>
        <p style="text-align:right;">This was the place when in 1949, from a rostrum on Tiananmen (the Gate of Heavenly Tiananmen Square Peace), Chairman Mao announced the establishment of the People's Republic of China. Tiananmen Square is circled by Tiananmen (Gate of Heaven Peace) on its north; the Great Hall of the People on its west; on the east of Tiananmen Square lies the National Museum of China,; there are Monument to the People's Heroes and Chairman Mao's Mausoleum on the south. 
        At sunrise and sunset the raising and lowering ceremony of the Chinese National Flag is well worth seeing. The young troops perform very well. Make sure to be there 30 minutes earlier to get a good standing point.</p>
        <small id="citation">
            Retrieved from <a href='https://en.wikipedia.org/wiki/Bond_Street'>Wikipedia</a>
        </small>
    </section>
    <section id='Top two' >
        <h2 style="color:#2874A6 ;  text-align:left;"> &#9754; Madame Tussauds London</h2>
        <p style="text-align:left;">Madame Tussauds is a wax museum in London with smaller museums in a number of other major cities. It was founded by wax sculptor Marie Tussaud. It used to be known as "Madame Tussaud's"; the apostrophe is no longer used.Madame Tussauds is a major tourist attraction in London, displaying the waxworks of famous and historic peoples and also the film characters. Madame Tussaud's London, has been visited by over 200 million visitors since it began 200 years ago. Currently, over 2.5 million people a year visit Madame Tussaud's, mingling with celebrities of all types, from sports heroes like Muhammad Ali to Hollywod celebrities like Marilyn Monroe to models like Naomi Campbell and politicians like Bill Clinton.</p>
        <small id="citation">
            Retrieved from <a href='https://en.wikipedia.org/wiki/Madame_Tussauds'>Wikipedia</a>
        </small>
        <small id="citation">
            and <a href='http://madame-tussauds.visit-london-england.com/'>Visit London England</a>
        </small>
        <h2 style="color:#922B21;  text-align:right;">Great Wall &#9755;</h2>
        <p style="text-align:right;">AClimbing the Great Wall is a must for you no matter how buy you are! In Beijing there are mainly eight sections of the Great Wall crossing the northern part of Beijing for 600 kms. The eight sections are Badaling, Juyongguan, Huanghuacheng, Jiankou, Mutianyu, Gubeikou, Jinshanling, and Simatai. Most of the sections of the Great Wall in Beijing are well-preserved and mainly the relics dating from the Ming Dynasty, the time for huge construction. For the Great Wall hiking, get ready for strong footwear.</p>
        <small id="citation">
            Retrieved from <a href='https://en.wikipedia.org/wiki/Bond_Street'>Wikipedia</a>
        </small>
    </section>
    <section id='Top three'>
        <h2 style="color:#2874A6 ;  text-align:left;">&#9754; Regent Street</h2>
        <p style="text-align:left;">Regent Street is one of the capital's most famous thoroughfares. Every year, more than 70 million visitors come to shop as well as relax and dine within the stylish cafes, restaurants and bars located along Regent Street such as Aqua and Hawksmoor, and within the Regent Street food quarters of Heddon Street and Swallow Street, such as Bentley’s, Veeraswamy, Gaucho, Momo, and Aubaine. Also, there are over 20,000 people employed here.</p>
        <small id="citation">
            Retrieved from <a href='http://www.visitlondon.com/things-to-do/place/64061-regent-street#2ZU1MJfyG6foQtIv.97'>Visit London</a>
            and <a href='http://www.regentstreetonline.com/about'>Regent Street</a>
        </small>
        <h2 style="color:#922B21;  text-align:right;">Yiheyuan &#9755;</h2>
        <p style="text-align:right;">Arthur Cadogan West was found dead, head crushed in on train tracks at Aldgate Station at 6AM Tuesday morning. West worked at Woolwich Arsenal on the Bruce-Partington submarine, a secret military project. Plans for the submarine had been stolen and seven of the ten missing papers were found in West's possession. Mycroft implores Sherlock to take the case and recover the three missing papers.</p>
        <small id="citation">
            Retrieved from <a href='https://en.wikipedia.org/wiki/Bond_Street'>Wikipedia</a>
        </small>
    </section>
    <section id='Top four'>
        <h2 style="color:#2874A6 ;  text-align:left;">&#9754; Oxford Street</h2>
        <p style="text-align:left;">Oxford Street is a major road in the City of Westminster in the West End of London, running from Marble Arch to Tottenham Court Road via Oxford Circus. It is Europe's busiest shopping street, with around half a million daily visitors, and as of 2012 had approximately 300 shops.With over 200 million visitors a year, more than 300 shops and 5 million square feet of retail space, Oxford Street lays claim to being London's busiest street. The opening of Debenhams and Selfridges in 1909 marked the beginning of the street's dominance as a shopping centre. </p>
        <small id="citation">
            Retrieved from <a href='https://en.wikipedia.org/wiki/Oxford_Street'>Wikipedia</a>
            and <a href='http://www.londontown.com/LondonInformation/Attraction/Oxford_Street/892f/'>LondonTown</a>
        </small>
        <h2 style="color:#922B21;  text-align:right;">Temple of Heaven &#9755;</h2>
        <p style="text-align:right;">Arthur Cadogan West was found dead, head crushed in on train tracks at Aldgate Station at 6AM Tuesday morning. West worked at Woolwich Arsenal on the Bruce-Partington submarine, a secret military project. Plans for the submarine had been stolen and seven of the ten missing papers were found in West's possession. Mycroft implores Sherlock to take the case and recover the three missing papers.</p>
        <small id="citation">
            Retrieved from <a href='https://en.wikipedia.org/wiki/Bond_Street'>Wikipedia</a>
        </small>
    </section>
    <section id='Top five'>
        <h2 style="color:#2874A6 ;  text-align:left;">&#9754; Carnaby Street</h2>
        <p style="text-align:left;">There is no dispute, Carnaby has an iconic heritage. From being the birthplace of Swinging London in the 1960’s, the home of Mods, Skinheads, Punks and New Romantics to the street style tribes of today. Carnaby has and always will be the epicentre of culture and lifestyle in London’s West End. More than 44 million people pass through the streets every year.</p>
        <small id="citation">
            Retrieved from <a href='https://www.carnaby.co.uk/history/'>Carnaby</a>
        </small>
        <h2 style="color:#922B21;  text-align:right;">Gugong &#9755;</h2>
        <p style="text-align:right;">There is no dispute, Carnaby has an iconic heritage. From being the birthplace of Swinging London in the 1960’s, the home of Mods, Skinheads, Punks and New Romantics to the street style tribes of today. Carnaby has and always will be the epicentre of culture and lifestyle in London’s West End. More than 44 million people pass through the streets every year.</p>
        <small id="citation">
            Retrieved from <a href='https://www.carnaby.co.uk/history/'>Carnaby</a>
        </small>
    </section>
    <section id='Top six'>
        <h2 style="color:#2874A6 ;  text-align:left;">&#9754; Sketch</h2>
        <p style="text-align:left;">sketch is a complex and unique site. Conceived by French master chef Pierre Gagnaire and restaurateur Mazouz, it has attracted unprecedented media reaction for its myriad food, drink and entertainment styles since it opened in December 2002. It awards 2 Michelin stars 2012.</p>
        <small id="citation">
            Retrieved from <a href='http://sketch.london/what.php#gsc.tab=0'>Sketch</a>
        </small>
        <h2 style="color:#922B21;  text-align:right;">Sketch &#9755;</h2>
        <p style="text-align:right;">Arthur Cadogan West was found dead, head crushed in on train tracks at Aldgate Station at 6AM Tuesday morning. West worked at Woolwich Arsenal on the Bruce-Partington submarine, a secret military project. Plans for the submarine had been stolen and seven of the ten missing papers were found in West's possession. Mycroft implores Sherlock to take the case and recover the three missing papers.</p>
        <small id="citation">
            Retrieved from <a href='https://en.wikipedia.org/wiki/Bond_Street'>Wikipedia</a>
        </small>
    </section>
    <section id='Top seven'>
        <h2 style="color:#2874A6 ;  text-align:left;">&#9754; Liberty</h2>
        <p style="text-align:left;">Holmes and Watson head to The Daily Telegraph and place an ad to draw out the criminal. It reads: "To-night. Same hour. Same place. Two taps. Most vitally important. Your own safety at stake. Pierrot." The trap works and Holmes catches the criminal: Colonel Valentine Walter, the brother of Woolwich Arsenal's chief. He confesses to working for Hugo Oberstein to obtain the submarine plans in order to pay off his debts.</p>
        <small id="citation">
            Retrieved from <a href='https://en.wikipedia.org/wiki/Bond_Street'>Wikipedia</a>
        </small>
        <h2 style="color:#922B21;  text-align:right;">Liberty &#9755;</h2>
        <p style="text-align:right;">Arthur Cadogan West was found dead, head crushed in on train tracks at Aldgate Station at 6AM Tuesday morning. West worked at Woolwich Arsenal on the Bruce-Partington submarine, a secret military project. Plans for the submarine had been stolen and seven of the ten missing papers were found in West's possession. Mycroft implores Sherlock to take the case and recover the three missing papers.</p>
        <small id="citation">
            Retrieved from <a href='https://en.wikipedia.org/wiki/Bond_Street'>Wikipedia</a>
        </small>
    </section>
    <section id='Top eight'>
        <h2 style="color:#2874A6 ;  text-align:left;">&#9754; Selfridges</h2>
        <p style="text-align:left;">Walter writes to Oberstein and convinces him to meet in the smoking room of the Charing Cross Hotel where he promises additional plans for the submarine in exchange for money. The plan works and Holmes and Watson catch both criminals.</p>
        <small id="citation">
            Adapted from <a href='http://www.gutenberg.org/files/2346/2346-h/2346-h.htm'>Project Gutenberg</a>
        </small>
        <h2 style="color:#922B21;  text-align:right;">Charing Cross Hotel &#9755;</h2>
        <p style="text-align:right;">Arthur Cadogan West was found dead, head crushed in on train tracks at Aldgate Station at 6AM Tuesday morning. West worked at Woolwich Arsenal on the Bruce-Partington submarine, a secret military project. Plans for the submarine had been stolen and seven of the ten missing papers were found in West's possession. Mycroft implores Sherlock to take the case and recover the three missing papers.</p>
        <small id="citation">
            Retrieved from <a href='https://en.wikipedia.org/wiki/Bond_Street'>Wikipedia</a>
        </small>
    </section>
    <section id='Top nine'>
        <h2 style="color:#2874A6 ;  text-align:left;">&#9754; Cirque le Soir</h2>
        <p style="text-align:left;">Walter writes to Oberstein and convinces him to meet in the smoking room of the Charing Cross Hotel where he promises additional plans for the submarine in exchange for money. The plan works and Holmes and Watson catch both criminals.</p>
        <small id="citation">
            Adapted from <a href='http://www.gutenberg.org/files/2346/2346-h/2346-h.htm'>Project Gutenberg</a>
        </small>
        <h2 style="color:#922B21;  text-align:right;">Charing Cross Hotel &#9755;</h2>
        <p style="text-align:right;">Arthur Cadogan West was found dead, head crushed in on train tracks at Aldgate Station at 6AM Tuesday morning. West worked at Woolwich Arsenal on the Bruce-Partington submarine, a secret military project. Plans for the submarine had been stolen and seven of the ten missing papers were found in West's possession. Mycroft implores Sherlock to take the case and recover the three missing papers.</p>
        <small id="citation">
            Retrieved from <a href='https://en.wikipedia.org/wiki/Bond_Street'>Wikipedia</a>
        </small>
    </section>
    <section id='Top ten'>
        <h2 style="color:#2874A6 ;  text-align:left;">&#9754; New Bond Street</h2>
        <p style="text-align:left;">Bond Street is a major shopping street in the West End of London. It links Piccadilly in the south to Oxford Street in the north and has been popular for retail since the 18th century, being the home of many fashion outlets that sell prestigious and expensive items. The southern section is Old Bond Street and the longer northern section New Bond Street—a distinction not generally made in everyday usage.</p>
        <small id="citation">
            Retrieved from <a href='https://en.wikipedia.org/wiki/Bond_Street'>Wikipedia</a>
        </small>
        <h2 style="color:#922B21;  text-align:right;">Charing Cross Hotel &#9755;</h2>
        <p style="text-align:right;">Arthur Cadogan West was found dead, head crushed in on train tracks at Aldgate Station at 6AM Tuesday morning. West worked at Woolwich Arsenal on the Bruce-Partington submarine, a secret military project. Plans for the submarine had been stolen and seven of the ten missing papers were found in West's possession. Mycroft implores Sherlock to take the case and recover the three missing papers.</p>
        <small id="citation">
            Retrieved from <a href='https://en.wikipedia.org/wiki/Bond_Street'>Wikipedia</a>
        </small>
    </section>
</div>

<script type="text/javascript">
mapboxgl.accessToken = 'pk.eyJ1IjoibGlzYXNhc2FzYSIsImEiOiJjajJndjhmdHEwMDBoMzNtdnF0MjNvYjV1In0.LK1-VqSfhFRIEs8yvpmu8Q';

var london = new mapboxgl.Map({
    container: 'london',
    style: 'mapbox://styles/mapbox/streets-v9',
    center: [-0.163222, 51.502741],
    zoom: 13.5,
    bearing: 27,
    pitch: 19.5
});

london.on('style.load', function() {
    london.addLayer({
        'id': '3d-buildings',
        'source': 'composite',
        'source-layer': 'building',
        'filter': ['==', 'extrude', 'true'],
        'type': 'fill-extrusion',
        'minzoom': 15,
        'paint': {
            'fill-extrusion-color': '#2874A6',
            'fill-extrusion-height': {
                'type': 'identity',
                'property': 'height'
            },
            'fill-extrusion-base': {
                'type': 'identity',
                'property': 'min_height'
            },
            'fill-extrusion-opacity': .4
        }
    });
});

var chaptersLeft = {
    'Top one': {
        bearing: 46.02,
        center: [-0.163222, 51.502741],
        zoom: 13.5,
        pitch: 19.5
    },
    'Top two': {
        // duration: 6000,
        center: [-0.155436, 51.522636],
        bearing: 40.0,
        zoom: 18.82,
        pitch: 60
    },
    'Top three': {
        bearing: 5.02,
        center: [-0.139505, 51.512115],
        zoom: 15.34,
        speed: 0.6,
        pitch: 0
    },
    'Top four': {
        bearing: 65.02,
        center: [-0.145635, 51.514574],
        zoom: 16.72,
        pitch: 30

    },
    'Top five': {
        bearing: -175.2,
        center: [-0.138485, 51.512175],
        zoom: 16.963,
        pitch: 50,
        speed: 0.5
    },
    'Top six': {
        bearing: 0,
        center: [-0.141348, 51.512216],
        zoom: 17.50,
        pitch: 50
    },
    'Top seven': {
        bearing: -70.4,
        center: [-0.140223, 51.513808],
        zoom: 17.44,
        speed: 0.6,
        pitch: 23
    },
    'Top eight': {
        bearing: -68,
        center: [-0.152510, 51.514713],
        zoom: 17.05,
        pitch: 46
    },
    'Top nine': {
        bearing: 99.2,
        center: [-0.139397, 51.512816],
        zoom: 18.24,
        pitch: 31
    },
    'Top ten': {
        bearing: 0,
        center: [-0.145771, 51.514060],
        zoom: 15.85,
        pitch: 0
    }
};
london.on('style.load', function () {
    london.addLayer({
        "id": "places",
        "type": "symbol",
        "source": {
            "type": "geojson",
            "data": {
                "type": "FeatureCollection",
                "features": [{
                    "type": "Feature",
                    "properties": {
                        "description": "<strong>Madame Tussauds London</strong><p><a href=\"https://https://www.madametussauds.com/london/en/www/\" target=\"_blank\">Madame Tussauds</a> is a wax museum in London with smaller museums in a number of other major cities.</p>",
                        "icon": "star"
                    },
                    "geometry": {
                        "type": "Point",
                        "coordinates": [-0.154978, 51.523070]
                    }
                }, {
                    "type": "Feature",
                    "properties": {
                        "description": "<strong>Sketch</strong><p><a href=\"https://sketch.london/\" target=\"_blank\" title=\"Opens in a new window\">Sketch</a> is a well known restaurant on 9 Conduit Street, Mayfair, London, England, which opened in 2003.</p>",
                        "icon": "star"
                    },
                    "geometry": {
                        "type": "Point",
                        "coordinates": [ -0.141513, 51.512683]
                    }
                }, {
                    "type": "Feature",
                    "properties": {
                        "description": "<strong>Cirque le Soir</strong><p><a href=\"http://cirquelesoir.com\" target=\"_blank\" title=\"Opens in a new window\">is located at 15-21 Ganton Street, London W1F 9BN, England</p>",
                        "icon": "star"
                    },
                    "geometry": {
                        "type": "Point",
                        "coordinates": [ -0.139095, 51.512916]
                    }
                
                }]
            }
        },
        "layout": {
            "icon-image": "{icon}-15",
            "icon-allow-overlap": true
        }
    });
    london.on('click', 'places', function (e) {
        new mapboxgl.Popup()
            .setLngLat(e.features[0].geometry.coordinates)
            .setHTML(e.features[0].properties.description)
            .addTo(london);
    });

    // Change the cursor to a pointer when the mouse is over the places layer.
    london.on('mouseenter', 'places', function () {
        london.getCanvas().style.cursor = 'pointer';
    });

    // Change it back to a pointer when it leaves.
    london.on('mouseleave', 'places', function () {
        london.getCanvas().style.cursor = '';
    });
});

var beijing = new mapboxgl.Map({
    container: 'beijing',
    style: 'mapbox://styles/mapbox/streets-v9',
    center: [116.494, 39.912],
    zoom: 15.5,
    bearing: 27,
    pitch: 45
});
beijing.on('style.load', function() {
    beijing.addLayer({
        'id': '3d-buildings',
        'source': 'composite',
        'source-layer': 'building',
        'filter': ['==', 'extrude', 'true'],
        'type': 'fill-extrusion',
        'minzoom': 15,
        'paint': {
            'fill-extrusion-color': '#922B21',
            'fill-extrusion-height': {
                'type': 'identity',
                'property': 'height'
            },
            'fill-extrusion-base': {
                'type': 'identity',
                'property': 'min_height'
            },
            'fill-extrusion-opacity': .4
        }
    });
});
var chaptersRight = {
    'Top one': {
        bearing: 27,
        center: [116.397, 39.9055],
        zoom: 15.5,
        pitch: 20
    },
    'Top two': {
        // duration: 6000,
        center: [116.5704, 40.4319],
        bearing: 150,
        zoom: 17,
        pitch: 0
    },
    'Top three': {
        bearing: 90,
        center: [116.2755, 40.000],
        zoom: 15,
        speed: 0.6,
        pitch: 40
    },
    'Top four': {
        bearing: 90,
        center: [116.4128, 39.8837],
        zoom: 19.3
    },
    'Top five': {
        bearing: 45,
        center: [116.2755, 40.000],
        zoom: 13.3,
        pitch: 20,
        speed: 0.5
    },
    'Top six': {
        bearing: 180,
        center: [116.2755, 40.000],
        zoom: 12.3
    },
    'Top seven': {
        bearing: 90,
        center: [116.4128, 39.8837],
        zoom: 17.3,
        pitch: 40
    },
    'Top eight': {
        bearing: 90,
        center: [116.2755, 40.000],
        zoom: 17.3,
        pitch: 20
    },
    'Top nine': {
        bearing: 90,
        center: [-0.12416858, 51.50779757],
        zoom: 19.3,
        pitch: 23
    },
    'Top ten': {
        bearing: 90,
        center: [-0.12416858, 51.50779757],
        zoom: 14.3,
        pitch: 23
    }
};

var layerList = document.getElementById('menu');
var inputs = layerList.getElementsByTagName('input');

function switchLayer(layer) {
    var layerId = layer.target.id;
    london.setStyle('mapbox://styles/mapbox/' + layerId + '-v9');
    beijing.setStyle('mapbox://styles/mapbox/' + layerId + '-v9');

}

for (var i = 0; i < inputs.length; i++) {
    inputs[i].onclick = switchLayer;
}

// On every scroll event, check which element is on screen
window.onscroll = function() {
    var chapterNames = Object.keys(chaptersLeft);
    for (var i = 0; i < chapterNames.length; i++) {
        var chapterName = chapterNames[i];
        if (isElementOnScreen(chapterName)) {
            setActiveChapter(chapterName);
            break;
        }
    }
};

var activeChapterName = 'Top one';
function setActiveChapter(chapterName) {
    if (chapterName === activeChapterName) return;

    london.flyTo(chaptersLeft[chapterName]);
    beijing.flyTo(chaptersRight[chapterName]);


    document.getElementById(chapterName).setAttribute('class', 'active');
    document.getElementById(activeChapterName).setAttribute('class', '');

    activeChapterName = chapterName;


}

function isElementOnScreen(id) {
    var element = document.getElementById(id);
    var bounds = element.getBoundingClientRect();
    return bounds.top < window.innerHeight && bounds.bottom > 0;
}


</script>


</body>
</html>